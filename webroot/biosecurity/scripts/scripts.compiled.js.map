{"version":3,"file":"scripts.compiled.js","names":["jQuery","document","ready","$","readCookie","name","nameEQ","encodeURIComponent","ca","cookie","split","i","length","c","charAt","substring","indexOf","decodeURIComponent","alaJSAuthCookieName","alaJSAuthCookieValue","removeClass","addClass","on","toggleClass","tooltip","scrollspy","target","filterPath","string","replace","locationPath","location","pathname","not","each","thisPath","hash","hostname","$target","click","event","preventDefault","animate","scrollTop","offset","top","focus","is","attr","collapseTabs","window","outerWidth","find","setVwVh","vw","documentElement","clientWidth","style","setProperty","concat","vh","clientHeight","addEventListener","fn","isInViewport","elementTop","elementBottom","outerHeight","viewportTop","viewportBottom","height","get","preventScroll","blur","slick","dots","speed","slidesToShow","autoplay","autoplaySpeed","responsive","breakpoint","settings","arrows","e","currentTab","currentTarget","tool","data","fadeOut","fadeIn","newSponsor","currentSponsor"],"sources":["../../scripts/scripts.js"],"sourcesContent":["\n// to compile (and watch): npx babel -w scripts/scripts.js  --out-dir public/scripts/ --presets=@babel/preset-env --source-maps --out-file-extension .compiled.js\n\njQuery(document).ready(function ($) {\n\n  /* ALA scripts \n  ========================================================================== */\n\n  function readCookie(name) {\n    var nameEQ = encodeURIComponent(name) + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) === ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) === 0)\n            return decodeURIComponent(c.substring(nameEQ.length, c.length));\n    }\n    return null;\n  }\n\n  /**\n   * Display login/logout buttons (ES6)\n   */\n  var alaJSAuthCookieName='ALA-Auth-Test';\n  var alaJSAuthCookieValue = readCookie(alaJSAuthCookieName);\n  // console.log('Cookie '+alaJSAuthCookieName+' cookie has value '+alaJSAuthCookieValue);\n  if (alaJSAuthCookieValue != null){\n    $('.ala-auth-buttons-logged-in').removeClass(\"d-none\");\n    $('.ala-auth-buttons-logged-out').addClass(\"d-none\");\n  } else {\n    $('.ala-auth-buttons-logged-in').addClass(\"d-none\");\n    $('.ala-auth-buttons-logged-out').removeClass(\"d-none\");\n  }\n\n  /**\n   * Mobile (off-canvas) menu\n   */\n  $('[data-toggle=\"offcanvas\"]').on('click', function () {\n    $('.site').toggleClass('offcanvas-open');\n  });\n\n  /**\n   * Tooltips\n   */\n  $('[data-toggle=\"tooltip\"]').tooltip();\n\n  if($('#anchorList').length) {\n    $('body').scrollspy({ target: '#anchorList' });\n  }\n\n  // filter handling for a /dir/ OR /indexordefault.page\n  function filterPath(string) {\n    return string\n      .replace(/^\\//, '')\n      .replace(/(index|default).[a-zA-Z]{3,4}$/, '')\n      .replace(/\\/$/, '');\n  }\n\n  const locationPath = filterPath(location.pathname);\n  $('a[href*=\"#\"]').not('[data-toggle]').each(function () {\n    const thisPath = filterPath(this.pathname) || locationPath;\n    const hash = this.hash;\n    if ($(\"#\" + hash.replace(/#/, '')).length) {\n      if (locationPath == thisPath && (location.hostname == this.hostname || !this.hostname) && this.hash.replace(/#/, '')) {\n        const $target = $(hash), target = this.hash;\n        if (target) {\n          $(this).click(function (event) {\n            event.preventDefault();\n            $('html, body').animate({scrollTop: $target.offset().top}, 1000, function () {\n              location.hash = target;\n              $target.focus();\n              if ($target.is(\":focus\")){ //checking if the target was focused\n                return false;\n              }else{\n                $target.attr('tabindex','-1'); //Adding tabindex for elements not focusable\n                $target.focus(); //Setting focus\n              }\n            });\n          });\n        }\n      }\n    }\n  });\n\n  //Collapse tabs if opened on mobile\n  const collapseTabs = () => {\n  if($(window).outerWidth() < 768) {\n    $('.tab-box').find('[aria-expanded=true]').click();\n  }\n  };\n\n  collapseTabs();\n\n\n\n  /* Transit-supplied scripts:\n  ========================================================================== */\n\n  /* Set VW VH without horizontal scrollbar\n  ========================================================================== */\n\n  function setVwVh() {\n    const vw = document.documentElement.clientWidth / 100;\n    document.documentElement.style.setProperty(\"--vw\", \"\".concat(vw, \"px\"));\n\n    const vh = document.documentElement.clientHeight / 100;\n    document.documentElement.style.setProperty(\"--vh\", \"\".concat(vh, \"px\"));\n  }\n\n  window.addEventListener(\"resize\", () => {\n    setVwVh();\n  });\n\n  setVwVh();\n\n  /* Invasive species slides\n  ========================================================================== */\n\n  $.fn.isInViewport = function () {\n    const elementTop = $(this).offset().top;\n    const elementBottom = elementTop + $(this).outerHeight();\n\n    const viewportTop = $(window).scrollTop();\n    const viewportBottom = viewportTop + $(window).height();\n\n    return elementBottom > viewportTop && elementTop < viewportBottom;\n  };\n\n  $(\".hub-invasive__species-container\").on(\"init\", () => {\n    $(window).on(\"resize scroll\", function () {\n      if (\n        $(\".hub-invasive\").isInViewport() &&\n        !$(\".hub-invasive__species-container .slick-list\").is(\":focus\")\n      ) {\n        $(\".hub-invasive__species-container .slick-list\")\n          .attr(\"tabindex\", 0)\n          .get(0)\n          .focus({\n            preventScroll: true,\n          });\n      } else if (\n        !$(\".hub-invasive\").isInViewport() &&\n        $(\".hub-invasive__species-container .slick-list\").is(\":focus\")\n      ) {\n        $(\".hub-invasive__species-container .slick-list\").blur();\n      }\n    });\n  });\n\n  $(\".hub-invasive__species-container\").slick({\n    dots: false,\n    speed: 500,\n    slidesToShow: 3,\n    autoplay: true,\n    autoplaySpeed: 2000,\n    responsive: [\n      {\n        breakpoint: 769,\n        settings: {\n          slidesToShow: 2,\n        },\n      },\n      {\n        breakpoint: 601,\n        settings: {\n          arrows: false,\n          slidesToShow: 1,\n        },\n      },\n    ],\n  });\n\n  /* ALA tools tab\n  ========================================================================== */\n\n  $(document).on(\n    \"click\",\n    \".hub-tools__tab:not(.hub-tools__tab--active)\",\n    (e) => {\n      const currentTab = e.currentTarget;\n      //console.log('currentTab:' + currentTab);\n      const tool = $(currentTab).data(\"tool\");\n      //console.log('tool (currentTab data):' + tool);\n      //console.log('About to deactivate previous tab.');\n      $(\".hub-tools__tab--active\").removeClass(\"hub-tools__tab--active\");\n      //console.log('About to deactivate previous content pane');\n      $(\".hub-tools__content--active\")\n        .removeClass(\"hub-tools__content--active\")\n        .fadeOut(200, () => {\n          //console.log('About to activate tab: '+ tool);\n          $(`.hub-tools__tab[data-tool='${tool}']`).addClass(\n            \"hub-tools__tab--active\"\n          );\n          //console.log('About to activate content pane: ' + tool);\n          //console.log('Click on tab: '+ tool);\n          $(`.hub-tools__content[data-tool='${tool}']`)\n            .addClass(\"hub-tools__content--active\")\n            .fadeIn(200);\n        });\n    }\n  );\n\n  /* Sponsors\n  ========================================================================== */\n\n  $(document).on(\n    \"mouseover\",\n    \".hub-sponsors__logo:not(.hub-sponsors__logo--disabled)\",\n    (e) => {\n      const newSponsor = $(e.currentTarget).data(\"sponsor\");\n      //console.log('newSponsor:' + newSponsor);\n      const currentSponsor = $(\n        \".hub-sponsors__content-text-container--active\"\n      ).data(\"sponsor\");\n      //console.log('currentSponsor:' + currentSponsor);\n\n      if (newSponsor !== currentSponsor) {\n        //console.log('newSponsor !== currentSponsor');\n        $(\".hub-sponsors__content-text-container--active\")\n          .removeClass(\"hub-sponsors__content-text-container--active\")\n          .fadeOut(200, () => {\n            $(\n              `.hub-sponsors__content-text-container[data-sponsor='${newSponsor}']`\n            )\n              .addClass(\"hub-sponsors__content-text-container--active\")\n              .fadeIn(200);\n              //console.log('activating newSponsor content');\n          });\n      }\n    }\n  );\n});\n"],"mappings":"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"}